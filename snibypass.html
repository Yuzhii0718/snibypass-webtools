<!DOCTYPE HTML>
<html lang="zh-cn">

<head>
    <meta name="viewport" content="width=device-width, initial-scale=1.2, maximum-scale=1, user-scalable=no" />
    <meta charset="UTF-8">
    <!--IE 8浏览器的页面渲染方式-->
    <meta http-equiv="X-UA-Compatible" content="IE=edge, chrome=1">
    <!--默认使用极速内核：针对国内浏览器产商-->
    <meta name="renderer" content="webkit">
    <!--chrome Android 地址栏颜色-->
    <meta name="theme-color" content="#3a3f51" />

    <meta http-equiv="x-dns-prefetch-control" content="on">

    <link rel="icon"
        href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAABNZJREFUWEe1l3tsVEUUxr9v7nZbSgUE5FFMQIS2bLHQBwgEGzVqBAmGtMVEEkWNqTEkvkspkKwh0C1p0IAkQvABaDRLIRqRIBpUiIqhNdiA3VJBiVGCFkEKpe3unSO33co+7r4A588753znd2fmnDlDxBkibmX6nHNB9QgFM0DcCiANggskTgikUSl8ceayY++oKa9ciqcVa46xJqTFc4cGtoJwUXBAFJuhpR2AgkK2aJlMcjqAAQA6AHlf6cA6ula2pQJiCyDH1typDbUbkE1K5DVOqjlrJyqN7kwMSp8jwkoR3geICeAtxa4VzHVbsAlHFIC0rBmmoQ4oQz/JnJrvEyoEDXpaa6c5hGsFuBtAu1KsZM7SXYn8owDM1rp6HdB70vKX7U/kHDkvAsJX+7gm1wPMAuUNldP1IukOJHUGpG19ujY7PUZe9QupBg+1F19droZ8BCCP4B4OGlLB7MpOO82wFfC3rrlL/NLhnLz8yPUAWL5yqvZm8zJ3E5gl4MG/A51zR0x+9WKkbhiAHF87DzlVnxKQ6wXohfhzY5ac6/hcBDNEsM+4dHIeSzb7Q7XDAXx1Jcxb2ngjgvdrSGv9cC2BQwBuB7HRyK1eEhvgZP1Yjn/51I0EsLR6jq6eajiM7wCmC8yFjryahv4Y4SvQ6BnMkup/bjSApWf6PFVXilZdb4oa2sWJNX9Z38MB3G5Ft1v/HwAibof2pf8I0gXKZiN3WWUUQKLA0lC0AVBj0dG+kE/82pXIPnI+0FJbRrIBgoAS5aKrqi3mXRBVZLxFE6B4PLhqC1jeZOV5SsO63HRrxs8AboNgkzGp+pnkAXYWr4BgVTDiVpY3LU4petDY3+JZrYga6wJT3cbo5AEaio8CyA/qnMWwm0bxnq9ilthYcHLcU6o1vu6tEyLlSQHIh4VT4FDh1ZG4l2VNX6a6CvKLe4juzjjX5ydvJgfQUFwLoDoi2HqWNz2XMoAIdWtdt9XYCHD4PwDxFt4CqrcBGRYtynwQgyK+X4DIsShbsguQ51n+Q7MdnNVD6KwBFwGxYreHAJTcDyX7Uv0jW3tyKcsa19oC/OQp1arvDEDgvwrghkJ+8XIQK3v7vmse8i46A0v4WLNtj6h9dV6BVATlL0Z3RN6S6VCyHUBOSgyGE9o5+CXjob3rYvmZPo91Zl4PmW+x7wk/KxiIDsc6gE9HlmvbZc0aCRkzDUgbECCwX4A9imiCUqcBnQFRBaZpLib5QIT/O3GzoK/0Muz6jASQzOGQ8VYbmFRChbkrwYPxAXYWH4RgdtytMNKg8+YDVCntGIlDzKmeFftdsKtgBHTaHwCMRMp6XCmQNTKR2dV58ryCOZO5Nb7YAN7Cp6DUlghVq526DITXBBk6AZJdmCzAaaX0gv6WPzbAjqKPQc4PUT0BYBH85hk4jO1gyNakZXTp3HkNAOcAsClkAMnzpuitDpFVoQ8d+yz4pDgT3bA6lsxgwdgGZ8YSPvxNR2/98FYYUCeXX2l0rJrh6INkEcqqmnuOtuUbTsNFyGgInEKcFT99jvTfD3PiBqsEhw17AO/MoVA9v1ntHMBnWd74gW367Zg6CzTeAzAOYs5mxZFvk92Hfrs4Z2DKGAQc3Xy0Ke4bT7YVDIShsrnoSEqP0oQAqf7Jtdr/C/g2xhww+h5pAAAAAElFTkSuQmCC" />

    <link color="#222" href="/images/logo.svg" rel="mask-icon">

    <title>chromium 浏览器伪造 sni 工具网页版</title>

    <style type="text/css">
        #err {
            color: coral;
        }

        #userAgreementModal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            background-color: rgba(0, 0, 0, 0.5);
            z-index: 1000;
        }

        #userAgreementModal .modal-content {
            background-color: white;
            margin: 15% auto;
            padding: 20px;
            border: 1px solid #888;
        }

        #lisence {
            text-shadow: 1px 1px 1px #484848;
        }

        @media (min-width: 768px) {
            #lisence {
                position: fixed;
                bottom: 0;
                right: 0;
                z-index: 1000;
            }
        }
    </style>

    <link href="https://cdn.bootcdn.net/ajax/libs/twitter-bootstrap/5.3.3/css/bootstrap.min.css" rel="stylesheet">
    <script src="https://cdn.bootcdn.net/ajax/libs/twitter-bootstrap/5.3.3/js/bootstrap.min.js"></script>
    <script src="https://cdn.bootcdn.net/ajax/libs/jquery/3.7.1/jquery.slim.min.js"></script>

</head>

<body id="body">

    <div class="custom-control custom-switch position-fixed" id="fn-group" style="top: 10px; right: 10px;">
        <div class="form-check form-switch">
            <input class="form-check-input" type="checkbox" role="switch" id="night-mode-toggle">
            <label class="form-check-label" for="night-mode-toggle" title="开/关夜间模式">🌗</label>
            <label id="info-icon" title="关于">ℹ️</label>
        </div>
    </div>

    <div class="custom-control custom-switch position-fixed" style="top: 50px; right: 20px; z-index: 1000;">
        <div class="toast" role="alert" aria-live="assertive" aria-atomic="true" id="info-toast">
            <div class="toast-header">
                <span class="rounded me-2">❤️</span>
                <strong class="me-auto">关于</strong>
                <small>SNI-Bypass-Webtools</small>
                <button type="button" class="btn-close" data-bs-dismiss="toast" aria-label="Close"></button>
            </div>
            <div class="toast-body" style="background-color: #f8f9fa;color: #121212;">
                <span id="ver-span">Version: <a id="version"></a><br></span>
                <span id="tip-span">Tips: <a id="tips"></a><br></span> 
                <span id="aut-span">Author: <a id="author"></a><br></span>
            </div>
        </div>
    </div>

    <div id="userAgreementModal" class="modal" tabindex="-1" role="dialog">
        <div class="modal-dialog  modal-dialog-centered" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">用户协议</h5>
                </div>
                <div class="modal-body">
                    <p>请阅读并同意以下用户协议内容。</p>
                    <textarea id="userAgreement" class="form-control" rows="6" readonly></textarea>
                </div>
                <div class="modal-footer">
                    <button id="agreeButton" class="btn btn-primary" disabled>同意 (3)</button>
                    <button id="disagreeButton" class="btn btn-danger" data-dismiss="modal">不同意</button>
                </div>
            </div>
        </div>
    </div>

    <div id="content" class="container mt-4">
        <h1>Chromium 浏览器伪造 SNI 工具网页版(Windows)</h1>
        <hr />

        <div class="alert alert-warning alert-dismissible fade show" role="alert">
            <div>
                <span>输出信息: </span><a id="err">暂无</a>
            </div>
            <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
        </div>

        <div class="container mt-4">
            <div class="row">
                <div id="inputData" class="col-md-6">
                    <a href="https://github.com/SpaceTimee/Cealing-Host/releases" target="_blank"
                        class="btn btn-link">SNI
                        伪装列表：</a>
                    <textarea id="in" class="form-control" rows="6" placeholder="点击抓取数据，或者手动从‘SNI伪装列表’导入数据"></textarea>
                    <button id="fetchButton" class="btn btn-primary mt-2" onclick="fetchData()">抓取列表</button>
                    <button id="clearButton" class="btn btn-secondary mt-2"
                        onclick="$('#in, #out').val('')">清空数据</button>
                </div>

                <div id="outputData" class="col-md-6">
                    <p>执行结果：</p>
                    <textarea id="out" class="form-control" rows="6" readonly placeholder="点击处理数据查看处理结果"></textarea>
                    <button id="processButton" class="btn btn-primary mt-2" onclick="processDataFromin()">处理列表</button>
                    <button class="btn btn-secondary mt-2" onclick="copyResult()">复制结果</button>
                </div>
            </div>
        </div>

        <div class="container mt-4">
            <div class="row">
                <div class="col-md-6">
                    <div class="config">
                        <div class="form-group">
                            <label for="configFiles">伪装列表文件</label>
                            <select id="configFiles" class="form-control"></select>
                        </div>
                        <div class="form-group">
                            <input id="configFileName" class="form-control" placeholder="默认即使用时间进行命名">
                        </div>
                        <br>
                        <button id="readButton" class="btn btn-primary" onclick="readConfig()">读取数据</button>
                        <button id="saveButton" class="btn btn-secondary" onclick="saveConfig()">保存数据</button>
                        <button id="delButton" class="btn btn-danger" onclick="delConfig()">删除数据</button>
                    </div>
                </div>
                <div class="col-md-6">
                    <div class="browser">
                        <div class="form-group">
                            <label for="browserSelect">浏览器路径：</label>
                            <select id="browserSelect" class="form-control" onchange="updateBrowserPath()">
                                <!-- Options will be dynamically generated here -->
                            </select>
                        </div>
                        <div class="form-group">
                            <input id="browserPath" type="text" class="form-control" onchange="updateInputPath">
                        </div>
                        <br>
                        <button class="btn btn-primary" onclick="openBrowser()">打开浏览器</button>
                    </div>
                </div>
            </div>
        </div>

        <hr />
        <p>SNI 规则来源：<a href="https://github.com/SpaceTimee/Cealing-Host" target="_blank">Cealing-Host</a><br>Windows
            客户端：<a href="https://github.com/SpaceTimee/Sheas-Cealer" target="_blank">Sheas-Cealer</a><br>切换到 <a
                href="/onlyweb">OnlyWeb</a> 版本</p>

        <div id="lisence" style="display: none;">
            <a id="lisence-text"></a>
        </div>
    </div>

    <script>
        $('#night-mode-toggle').click(function () {
            document.body.classList.toggle('night-mode');
            if (document.body.classList.contains('night-mode')) {
                document.documentElement.setAttribute('data-bs-theme', 'dark');
            } else {
                document.documentElement.removeAttribute('data-bs-theme');
            }
        });

        $('#info-icon').click(function () {
            $('#info-toast').toast('show');
        });

        $(document).ready(function () {
            $('.toast').toast({ autohide: false });
        });

        fetch('/get-js')
            .then(response => response.text())
            .then(data => {
                const script = document.createElement('script');
                script.type = 'text/javascript';
                script.text = data;
                document.head.appendChild(script);
            })
            .catch(error => console.error('Error loading script:', error));
    </script>
</body>

</html>